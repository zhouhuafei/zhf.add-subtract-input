"use strict";var extend=require("zhf.extend"),getDomArray=require("zhf.get-dom-array");function AddSubtractInput(t){this.opts=extend({add:null,subtract:null,input:null,step:1,min:1,value:1,max:99999999,offClass:"_off",callback:function(){}},t),this.init()}AddSubtractInput.prototype.init=function(){this.power()},AddSubtractInput.prototype.power=function(){var t=this.opts,e=t.callback,a=getDomArray(t.add)[0],n=getDomArray(t.subtract)[0],r=getDomArray(t.input)[0],s=Number(t.step),u=Number(t.min),i=Number(t.value),o=Number(t.max),d=t.offClass;function l(){e({min:u,max:o,value:i}),a&&a.classList.remove(d),n&&n.classList.remove(d),o<=0&&(o=u),i<=u&&(i=u,n&&n.classList.add(d)),i>=o&&(i=o,a&&a.classList.add(d)),i===u&&i===o&&(a&&a.classList.add(d),n&&n.classList.add(d),r&&(r.readOnly=!0)),r&&(r.value=i)}l(),a&&a.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i+=s,l()}),n&&n.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i-=s,l()}),r&&r.addEventListener("blur",function(t){t.preventDefault(),t.stopPropagation(),i=Number(this.value),l()})},module.exports=AddSubtractInput;